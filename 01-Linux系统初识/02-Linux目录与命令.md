## 一 Linux目录

#### 1.1 常见目录

- `/`：根目录
- `/bin`、`/usr/bin`：可执行二进制文件的目录，如常用的命令ls、tar、mv、cat等
- `/usr`：应用程序存放目录，`/usr/bin` 存放应用程序，`/usr/share` 存放共享数据，`/usr/local 存放软件升级包，`/usr/share/doc`存放系统说明文件存放目录，`/usr/share/man`程序说明文件存放目录
- `/root`：管理员root目录
- `etc`：系统配置文件存放的目录
- `home`：系统默认的用户家目录，新增用户账号时，用户的家目录都存放在此目录下，~表示当前用户的家目录，~edu 表示用户 edu 的家目录
- `/lib`、`/usr/lib`、`/usr/local/lib`：系统使用的函数库的目录，程序在执行过程中，需要调用一些额外的参数时需要函数库的协助
- `/sbin`、`/usr/sbin`、`/usr/local/sbin`：放置可执行命令，如fdisk、shutdown、mount 等，与 `/bin` 不同的是，这几个目录是给系统管理员 root使用的命令，一般用户只能"查看"而不能设置和使用
- `/tmp`：一般用户或正在执行的程序临时存放文件的目录，任何人都可以访问，重要数据不可放置在此目录下
- `/srv`：服务启动之后需要访问的数据目录，如 www 服务需要访问的网页数据存放在 `/srv/www` 内
- `/var`：放置系统执行过程中经常变化的文件，如随时更改的日志文件 `/var/log`

#### 1.2 Linux中的路径

绝对路径：从/目录开始描述的路径为绝对路径，如：
```
cd /home
ls /usr
```

相对路径：从当前位置开始描述的路径为相对路径，如：
```
cd ../../
ls abc/def
```

.和..:每个目录下都有.和..
```
. 表示当前目录
.. 表示上一级目录，即父目录
```
注意：根目录下的.和..都表示当前目录

## 二 Linux命令

#### 2.1 Linux命令格式

```
格式：  comman [-options] [parameter]   # []表示可选      
示例：	ls -l /usr                      # 分别代表：命令 选项 参数
```

#### 2.2 常用命令

查看文件与文件夹命令：
```
# 三个查看命令
ls			        显示当前目录下的文件与文件夹名
cat                 显示文件内容，用法：cat test.txt
more                分屏显示文件内容，按下q键退出显示，按下h键可以获取帮助，用法：more test.txt

# ls的参数
-a                  显示隐藏文件
-l                  以行列表方式查看文件
-h                  文件大小以合适的单位显示

# 常见用法			
ls /bin			    查看根目录下的bin文件夹下的东西（绝对路径）
ls Documents 	    查看Documents文件夹下的东西（相对路径）		
ls *.txt			显示以txt为后缀的文件
ls *.*
ls *.t?t			显示所有以 .t任意字符t 结尾的文件,*表示任意个字符,？表示单个字符
ls *.t[xn]t		    显示txt，tnt后缀文件
ls *.t[a-f]t		显示tat 到 tft 中所有的后缀的文件
ls \*a			    文件名有*需要转义,可以将所有命令合并书写：ls -lah
```

进入命令：
```
cd			        进入文件夹
cd .		        进入当前路径
cd ..		        回到当前路径的上级目录
cd /		        回到根目录
cd -		        回到上次执行命令的目录
cd ~		        进入当前用户的家目录
```

重定向：
```
# > 即 重定向，由输出到命令行修改到test.txt文件中(不存在则创建)，如果使用  >>  输出重定向则会追加到文件的尾部。
ls > test.txt
```

管道：
```
# 先执行 ls -lh，把本应显示的文件信息内容导入进管道中，给more，more拿到这个结果后分屏展示。
ls -lh | more
```

文件搜索：
```
find ./ -name test.sh		查找当前目录下所有名为test.sh的文件
find ./ -name '*.sh'		查找当前目录下所有后缀为.sh的文件
find ./ -name "[A-Z]*"	查找当前目录下所有以大写字母开头的文件
find /tmp -size 2M		查找在/tmp 目录下等于2M的文件
find /tmp -size +2M		查找在/tmp 目录下大于2M的文件
find /tmp -size -2M		查找在/tmp 目录下小于2M的文件
find ./ -size +4k -size -5M	查找当前目录下大于4k，小于5M的文件
find ./ -perm 0777		查找当前目录下权限为 777 的文件或目录
```

文本搜索：
```
# 格式
grep [-选项] ‘搜索内容’文件名

# 参数：
-v			    显示不包含搜索内容，即取反
-n			    显示搜索内容匹配到的行及行号
-i			    忽略搜索内容的大小写

grep搜索内容串可以是正则表达式，常用正则如下：
^a			    行首,搜寻以 m 开头的行：grep -n '^a' 1.txt
ke$			    行尾,搜寻以 ke 结束的行：grep -n 'ke$' 1.txt
[Ss]igna[Ll]	匹配signal、signaL、Signal、SignaL的行：grep -n '[Ss]igna[Ll]' 1.txt
```

文件拷贝：
```
cp命令的功能是将给出的文件或目录复制到另一个文件或目录中，相当于DOS下的copy命令。

常用选项说明：

-a	该选项通常在复制目录时使用，保留链接、文件属性，并递归地复制目录，简单而言，保持文件原有属性。
-f	已经存在的目标文件而不提示
-i	交互式复制，在覆盖目标文件之前将给出提示要求用户确认
-r	若给出的源文件是目录文件，则cp将递归复制该目录下的所有子目录和文件，目标文件必须为一个目录名。
-v	显示拷贝进度
```

文件移动：
```
用户可以使用mv命令来移动文件或目录，也可以给文件或目录重命名。

常用选项说明：
-f	禁止交互式操作，如有覆盖也不会给出提示
-i	确认交互方式操作，如果mv操作将导致对已存在的目标文件的覆盖，		系统会询问是否重写，要求用户回答以避免误覆盖文件
-v	显示移动进度
```

文件归档：
```
tar使用格式： tar [参数] 打包文件名 文件

tar命令很特殊，其参数前面可以使用“-”，也可以不使用。

常用参数：
-c	生成档案文件，创建打包文件
-v	列出归档解档的详细过程，显示进度
-f	指定档案文件名称，f后面一定是.tar文件，所以必须放选项最后
-t	列出档案中包含的文件
-x	解开档案文件
注意：除了f需要放在参数的最后，其它参数的顺序任意。

常用打包命令：tar -cvf test.tar a/* 
将a文件夹下的文件打包在一个新建的test.tar文件夹中
常用解包命令：tar -xcf test.tar

注意：这些命令并没有压缩，只是打包
```

文件压缩：
```
gzip使用格式：gzip  [选项]  被压缩文件

常用选项：
-d	解压
-r	压缩所有子目录

压缩：gzip -r test.tar test.tar.gz
解压：gzip -d test.tar.gz

tar这个命令并没有压缩的功能，它只是一个打包的命令，但是在tar命令中增加一个选项(-z)可以调用gzip实现了一个压缩的功能，实行一个先打包后压缩的过程。

压缩用法：	tar -zcvf 压缩包包名 文件1 文件2 ...
-z ：指定压缩包的格式为：file.tar.gz
解压用法：tar -zxvf 压缩包包名
-z：指定压缩包的格式为  file.tar.gz


tar与bzip2命令结合使用实现文件打包、压缩(用法和gzip一样)。

tar只负责打包文件，但不压缩，用bzip2压缩tar打包后的文件，其扩展名一般用xxxx.tar.gz2。

在tar命令中增加一个选项(-j)可以调用bzip2实现了一个压缩的功能，实行一个先打包后压缩的过程。

压缩用法：tar -jcvf 压缩包包名 文件...(tar jcvf bk.tar.bz2 *.c)

解压用法：tar -jxvf 压缩包包名 (tar jxvf bk.tar.bz2)
```

日历：
```
cal     用于查看当前日历，-y显示整年日历
date    显示或设置时间：

设置时间格式（需要管理员权限）：

date [MMDDhhmm[[CC]YY][.ss]] +format

CC为年前两位yy为年的后两位，前两位的mm为月，后两位的mm为分钟，dd为天，hh为小时，ss为秒。如： date 010203042016.55。

显示时间格式（date '+%y,%m,%d,%H,%M,%S'）：

format格式	含义
%Y，%y	年
%m	月
%d	日
%H	时
%M	分
%S	秒
3.3 查看进程信息：ps
进程是一个具有一定独立功能的程序，它是操作系统动态执行的基本单元。
ps命令可以查看进程的详细状况，常用选项(选项可以不加“-”)如下：

选项	含义
-a	显示终端上的所有进程，包括其他用户的进程
-u	显示进程的详细状态
-x	显示没有控制终端的进程
-w	显示加宽，以便显示更多的信息
-r	只显示正在运行的进程
```

其他：
```
pwd		            显示当前目录路径
clear		        清屏
tab			        自动补全
touch 		        创建文件
上下键		         历史命令
su 用户名	         选择用户	普通用户命令行前缀是 $ root用户前缀是#
mkdir a/b	        如果没有a文件夹，那么就无法创建b文件夹 mkdir -p a/b可以解决
rm	-r		        删除文件、文件夹，但是不能递归删除内部文件
rm	-rf		        删除文件夹

ifconfig            查看ip
ln 源文件 链接文件    连接，即快捷方式，这是硬链接方式，只能链接普通文件，不能链接目录。加入-l是软连接， 软链接不占用磁盘，源文件删除则软链接失效

```

#### 2.3 帮助文档

Linux的命令包括两种：
- 内部命令：	Shell解析器的一部分，如 cd pwd help；使用 help + 命令，如 help cd 可以查看帮助文档
- 外部命令：	独立于Shell的程序，如 ls mkdir cp,使用 man + 命令，如 man ls 可以查看帮助文档,其实外部命令就是外部来操作了Linux底层的库、命令后调用的CPU。

#### 2.4 manual

man是linux提供的一个手册，包含了绝大部分的命令、函数使用说明。例：
```
man ls 
man 2 printf
```

man中各个section意义如下：
```
Standard commands（标准命令）
System calls（系统调用，如open,write）
Library functions（库函数，如printf,fopen）
Special devices（设备文件的说明，/dev下各种设备）
File formats（文件格式，如passwd）
Games and toys（游戏和娱乐）
Miscellaneous（协定等如：档案系统、网络协定、environ全局变量）
Administrative Commands（管理员命令，如ifconfig）
```

man是按照手册的章节号的顺序进行搜索的。man设置了如下的功能键：
```
功能键	功能
空格键	显示手册页的下一屏
Enter键	一次滚动手册页的一行
b	回滚一屏
f	前滚一屏
q	退出man命令
h	列出所有功能键
/word	搜索word字符串
```