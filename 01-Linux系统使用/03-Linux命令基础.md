## 一 Linux命令概述

Linux的命令包括两种：
- 内部命令：Shell解析器的一部分，如 cd pwd help；使用 help + 命令，如 help cd 可以查看帮助文档
- 外部命令：独立于Shell的程序，如 ls mkdir cp,使用 man + 命令，如 man ls 可以查看帮助文档,其实外部命令就是外部来操作了Linux底层的库、命令后调用的CPU。  

Linux命令格式：
```
格式：  comman [-options] [parameter]   # []表示可选      
示例：	ls -l /usr                      # 分别代表：命令 选项 参数
```

## 二 帮助文档

man是linux提供的一个手册，包含了绝大部分的命令、函数使用说明。例：
```
man ls 
man 2 printf
```

man中各个section意义如下：
```
Standard commands（标准命令）
System calls（系统调用，如open,write）
Library functions（库函数，如printf,fopen）
Special devices（设备文件的说明，/dev下各种设备）
File formats（文件格式，如passwd）
Games and toys（游戏和娱乐）
Miscellaneous（协定等如：档案系统、网络协定、environ全局变量）
Administrative Commands（管理员命令，如ifconfig）
```

man是按照手册的章节号的顺序进行搜索的。man设置了如下的功能键：
```
功能键	功能
空格键	显示手册页的下一屏
Enter键	一次滚动手册页的一行
b	回滚一屏
f	前滚一屏
q	退出man命令
h	列出所有功能键
/word	搜索word字符串
```

## 三 Linux常用基础命令



查看文件与文件夹命令：
```
# 三个查看命令
ls			        显示当前目录下的文件与文件夹名
cat                 显示文件内容，用法：cat test.txt
more                分屏显示文件内容，按下q键退出显示，按下h键可以获取帮助，用法：more test.txt

# ls的参数
-a                  显示隐藏文件
-l                  以行列表方式查看文件
-h                  文件大小以合适的单位显示

# 常见用法			
ls /bin			    查看根目录下的bin文件夹下的东西（绝对路径）
ls Documents 	    查看Documents文件夹下的东西（相对路径）		
ls *.txt			显示以txt为后缀的文件
ls *.*
ls *.t?t			显示所有以 .t任意字符t 结尾的文件,*表示任意个字符,？表示单个字符
ls *.t[xn]t		    显示txt，tnt后缀文件
ls *.t[a-f]t		显示tat 到 tft 中所有的后缀的文件
ls \*a			    文件名有*需要转义,可以将所有命令合并书写：ls -lah
```

进入命令：
```
cd			        进入文件夹
cd .		        进入当前路径
cd ..		        回到当前路径的上级目录
cd /		        回到根目录
cd -		        回到上次执行命令的目录
cd ~		        进入当前用户的家目录
```

重定向：
```
# > 即 重定向，由输出到命令行修改到test.txt文件中(不存在则创建)，如果使用  >>  输出重定向则会追加到文件的尾部。
ls > test.txt
```

管道：
```
# 先执行 ls -lh，把本应显示的文件信息内容导入进管道中，给more，more拿到这个结果后分屏展示。
ls -lh | more
```

文件搜索：
```
find ./ -name test.sh		查找当前目录下所有名为test.sh的文件
find ./ -name '*.sh'		查找当前目录下所有后缀为.sh的文件
find ./ -name "[A-Z]*"	查找当前目录下所有以大写字母开头的文件
find /tmp -size 2M		查找在/tmp 目录下等于2M的文件
find /tmp -size +2M		查找在/tmp 目录下大于2M的文件
find /tmp -size -2M		查找在/tmp 目录下小于2M的文件
find ./ -size +4k -size -5M	查找当前目录下大于4k，小于5M的文件
find ./ -perm 0777		查找当前目录下权限为 777 的文件或目录
```

文本搜索：
```
# 格式
grep [-选项] ‘搜索内容’文件名

# 参数：
-v			    显示不包含搜索内容，即取反
-n			    显示搜索内容匹配到的行及行号
-i			    忽略搜索内容的大小写

grep搜索内容串可以是正则表达式，常用正则如下：
^a			    行首,搜寻以 m 开头的行：grep -n '^a' 1.txt
ke$			    行尾,搜寻以 ke 结束的行：grep -n 'ke$' 1.txt
[Ss]igna[Ll]	匹配signal、signaL、Signal、SignaL的行：grep -n '[Ss]igna[Ll]' 1.txt
```

文件拷贝：
```
cp命令的功能是将给出的文件或目录复制到另一个文件或目录中，相当于DOS下的copy命令。

常用选项说明：

-a	该选项通常在复制目录时使用，保留链接、文件属性，并递归地复制目录，简单而言，保持文件原有属性。
-f	已经存在的目标文件而不提示
-i	交互式复制，在覆盖目标文件之前将给出提示要求用户确认
-r	若给出的源文件是目录文件，则cp将递归复制该目录下的所有子目录和文件，目标文件必须为一个目录名。
-v	显示拷贝进度
```

文件移动：
```
用户可以使用mv命令来移动文件或目录，也可以给文件或目录重命名。

常用选项说明：
-f	禁止交互式操作，如有覆盖也不会给出提示
-i	确认交互方式操作，如果mv操作将导致对已存在的目标文件的覆盖，		系统会询问是否重写，要求用户回答以避免误覆盖文件
-v	显示移动进度
```

文件归档：
```
tar使用格式： tar [参数] 打包文件名 文件

tar命令很特殊，其参数前面可以使用“-”，也可以不使用。

常用参数：
-c	生成档案文件，创建打包文件
-v	列出归档解档的详细过程，显示进度
-f	指定档案文件名称，f后面一定是.tar文件，所以必须放选项最后
-t	列出档案中包含的文件
-x	解开档案文件
注意：除了f需要放在参数的最后，其它参数的顺序任意。

常用打包命令：tar -cvf test.tar a/* 
将a文件夹下的文件打包在一个新建的test.tar文件夹中
常用解包命令：tar -xcf test.tar

注意：这些命令并没有压缩，只是打包
```

文件压缩：
```
gzip使用格式：gzip  [选项]  被压缩文件

常用选项：
-d	解压
-r	压缩所有子目录

压缩：gzip -r test.tar test.tar.gz
解压：gzip -d test.tar.gz

tar这个命令并没有压缩的功能，它只是一个打包的命令，但是在tar命令中增加一个选项(-z)可以调用gzip实现了一个压缩的功能，实行一个先打包后压缩的过程。

压缩用法：	tar -zcvf 压缩包包名 文件1 文件2 ...
-z ：指定压缩包的格式为：file.tar.gz
解压用法：tar -zxvf 压缩包包名
-z：指定压缩包的格式为  file.tar.gz


tar与bzip2命令结合使用实现文件打包、压缩(用法和gzip一样)。

tar只负责打包文件，但不压缩，用bzip2压缩tar打包后的文件，其扩展名一般用xxxx.tar.gz2。

在tar命令中增加一个选项(-j)可以调用bzip2实现了一个压缩的功能，实行一个先打包后压缩的过程。

压缩用法：tar -jcvf 压缩包包名 文件...(tar jcvf bk.tar.bz2 *.c)

解压用法：tar -jxvf 压缩包包名 (tar jxvf bk.tar.bz2)
```

日历：
```
cal     用于查看当前日历，-y显示整年日历
date    显示或设置时间：

设置时间格式（需要管理员权限）：

date [MMDDhhmm[[CC]YY][.ss]] +format

CC为年前两位yy为年的后两位，前两位的mm为月，后两位的mm为分钟，dd为天，hh为小时，ss为秒。如： date 010203042016.55。

显示时间格式（date '+%y,%m,%d,%H,%M,%S'）：

format格式	含义
%Y，%y	年
%m	月
%d	日
%H	时
%M	分
%S	秒
3.3 查看进程信息：ps
进程是一个具有一定独立功能的程序，它是操作系统动态执行的基本单元。
ps命令可以查看进程的详细状况，常用选项(选项可以不加“-”)如下：

选项	含义
-a	显示终端上的所有进程，包括其他用户的进程
-u	显示进程的详细状态
-x	显示没有控制终端的进程
-w	显示加宽，以便显示更多的信息
-r	只显示正在运行的进程
```

其他：
```
pwd		            显示当前目录路径
clear		        清屏
tab			        自动补全
touch 		        创建文件
上下键		         历史命令
su 用户名	         选择用户	普通用户命令行前缀是 $ root用户前缀是#
mkdir a/b	        如果没有a文件夹，那么就无法创建b文件夹 mkdir -p a/b可以解决
rm	-r		        删除文件、文件夹，但是不能递归删除内部文件
rm	-rf		        删除文件夹

ifconfig            查看ip
ln 源文件 链接文件    连接，即快捷方式，这是硬链接方式，只能链接普通文件，不能链接目录。加入-l是软连接， 软链接不占用磁盘，源文件删除则软链接失效

```

## 四 进程命令

top命令可以动态显示进程。在top命令执行后，可以按下按键得到对显示的结果进行排序：
```
M	根据内存使用量来排序
P	根据CPU占有率来排序
T	根据进程运行时间的长短来排序
U	可以根据后面输入的用户名来筛选进程
K	可以根据后面输入的PID来杀死进程。
q	退出
h	获得帮助
```

kill命令指定进程号的进程，需要配合 ps 使用，使用格式：kill [-signal] pid。  

信号值从0到15，其中9为绝对终止，可以处理一般信号无法终止的进程。  

有些进程不能直接杀死，这时候我们需要加一个参数“ -9 ”，“ -9 ” 代表强制结束：

## 五 系统相关命令

```
reboot				重新启动操作系统
shutdown –r now	重新启动操作系统，shutdown会给别的用户提示
shutdown -h now	立刻关机，其中now相当于时间为0的状态
shutdown -h 20:25	系统在今天的20:25 会关机
shutdown -h +10		系统再过十分钟后自动关机
init 0	关机
init 6	重启
```

df命令用于检测文件系统的磁盘空间占用和空余情况，可以显示所有文件系统对节点和磁盘块的使用情况：
- -a	显示所有文件系统的磁盘使用情况
- -m	以1024字节为单位显示
- -t	显示各指定文件系统的磁盘空间使用情况
- -T	显示文件系统

du命令用于统计目录或文件所占磁盘空间的大小，该命令的执行结果与df类似，du更侧重于磁盘的使用状况，格式`du [选项] 目录或文件名`:
- -a	递归显示指定目录中各文件和子目录中文件占用的数据块 
- -s	显示指定文件或目录占用的数据块
- -b	以字节为单位显示磁盘占用情况
- -l	计算所有文件大小，对硬链接文件计算多次
